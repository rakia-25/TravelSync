<!DOCTYPE html>
<html>
  <head>
    <title>TravelSync</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>
  <body>
    <%= render 'shared/navbar' %>
    <p class="notice"><%= notice %></p>
    <p class="alert"><%= alert %></p>
    <%= yield %>
    <!-- ✅ Footer -->
    <footer class="bg-gray-100 text-gray-700 mt-16 border-t">
      <div class="max-w-7xl mx-auto px-4 py-8 grid grid-cols-1 sm:grid-cols-3 gap-6 text-sm">
        <!-- Colonne 1 : À propos -->
        <div>
          <h3 class="font-bold text-indigo-700 mb-2">À propos de TravelSync</h3>
          <p>
            TravelSync est une plateforme de gestion de voyages, hôtels et voitures.
            Organisez vos déplacements facilement et rapidement.
          </p>
        </div>
        <!-- Colonne 2 : Liens utiles -->
        <div>
          <h3 class="font-bold text-indigo-700 mb-2">Liens utiles</h3>
          <ul class="space-y-1">
            <li><%= link_to "Accueil", root_path, class: "hover:underline" %></li>
            <% if user_signed_in?%>
              <% if current_user.role == "customer" %>
                <li><%= link_to "Accueil", root_path, class: "hover:underline" %></li>
                <li><%= link_to "Voyages", customer_trips_path, class: "hover:underline" %></li>
                <li><%= link_to "Hôtels", customer_hotels_path, class: "hover:underline"%></li>
                <li><%= link_to "Voitures", customer_cars_path, class: "hover:underline"%></li>
                <li><%= form_with url: destroy_user_session_path, method: :delete, class: "inline" do %>
                    <button type="submit" class="text-red-600 hover:text-red-800 font-semibold">
                      Déconnexion
                    </button>
                  <% end %></li>
              <% end %>
            <% else%>
              <li><%= link_to "Se connecter", new_user_session_path, class: "hover:underline" %></li>
            </ul>
          <% end %>
        </div>
        <!-- Colonne 3 : Contact -->
        <div>
          <h3 class="font-bold text-indigo-700 mb-2">Contact</h3>
          <p>Email : contact@travelsync.com</p>
          <p>Téléphone : +227 90 00 00 00</p>
          <p>Adresse : Niamey, Niger</p>
        </div>
      </div>
      <div class="text-center text-gray-500 text-xs py-4 border-t">
        &copy; <%= Time.now.year %> TravelSync. Tous droits réservés.
      </div>
    </footer>
  </body>
</html>
