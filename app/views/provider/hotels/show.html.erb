<div class="container py-4">

  <h1 class="fw-bold mb-4 fs-3"><%= @hotel.name %> (<%= @hotel.stars %> étoiles)</h1>

  <div class="mb-3 text-muted">
    <p><strong>Adresse :</strong> <%= @hotel.address %>, <%= @hotel.city %></p>
    <p><strong>GPS :</strong> <%= @hotel.gps %></p>
    <p><strong>Services :</strong> <%= @hotel.service %></p>
    <p><strong>Description :</strong> <%= @hotel.description %></p>
  </div>

  <% if @hotel.images.attached? %>
    <h4 class="fw-semibold mt-4 mb-3">Photos de l'hôtel</h4>
    <div class="d-flex flex-wrap gap-3 mb-4">
      <% @hotel.images.each do |image| %>
        <div class="position-relative">
          <%= image_tag image.variant(resize_to_limit: [300, 200]).processed,
                        class: "img-thumbnail rounded shadow" %>
          <%= button_to "✕", provider_hotel_purge_image_path(id: image.id, hotel_id: @hotel.id),
                method: :delete,
                data: { confirm: "Voulez-vous supprimer cette image ?" },
                class: "btn btn-sm btn-danger position-absolute top-0 end-0 m-1 py-0 px-1" %>
        </div>
      <% end %>
    </div>
  <% else %>
    <p class="fst-italic text-muted">Aucune image enregistrée pour cet hôtel.</p>
  <% end %>

  <hr class="my-5">

  <h2 class="fw-bold fs-4 mb-3">Chambres</h2>

  <%= link_to "Ajouter une chambre", new_provider_hotel_room_path(@hotel), class: "btn btn-success btn-sm mb-4" %>

  <% if @hotel.rooms.any? %>
    <div class="row g-4">
      <% @hotel.rooms.each do |room| %>
        <div class="col-12 col-md-6 col-lg-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <h5 class="card-title"><%= room.type_room %></h5>
              <p class="card-text">
                <strong>Nombre de lits :</strong> <%= room.beds %><br>
                <strong>Prix :</strong> <%= number_to_currency(room.price) %><br>
                <strong>Services :</strong> <%= room.services %><br>
                <strong>Disponible :</strong> <%= room.available ? "Oui" : "Non" %>
              </p>
              <div class="d-flex gap-2 mt-3">
                <%= link_to "Modifier", edit_provider_hotel_room_path(@hotel, room), class: "btn btn-warning btn-sm" %>
                <%= button_to "Supprimer", provider_hotel_room_path(@hotel, room),
                      method: :delete,
                      data: { confirm: "Supprimer cette chambre ?" },
                      class: "btn btn-danger btn-sm" %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <p class="fst-italic text-muted">Aucune chambre enregistrée pour cet hôtel.</p>
  <% end %>

  <hr class="my-5">

  <%= link_to "Retour à la liste des hôtels", dashboard_provider_path, class: "btn btn-outline-primary" %>

</div>
