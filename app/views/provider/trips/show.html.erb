<div class="max-w-7xl mx-auto p-6 space-y-6">
  <!-- En-tête avec les infos principales -->
  <div class="bg-white rounded-xl shadow-sm overflow-hidden">
    <!-- Galerie d'images (si tu as des images associées au trip, sinon tu peux enlever) -->
    <div class="p-6 bg-gray-50 rounded-xl">
      <h2 class="text-lg font-medium text-gray-900 mb-4">Galerie photos</h2>
      <% if @trip.images&.attached? %>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
          <% @trip.images.each do |image| %>
            <div
              class="relative group aspect-square rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow">
              <%= link_to image, target: "_blank" , class: "block w-full h-full" do %>
                <%= image_tag image,
                  class: "w-full h-full object-cover transition-transform duration-300 group-hover:scale-110" %>
                  <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity"></div>
                  <div
                    class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                    <i class="fas fa-search-plus text-white text-2xl"></i>
                  </div>
                  <% end %>
            </div>
            <% end %>
        </div>
        <% else %>
          <div class="w-full h-48 flex items-center justify-center bg-gray-100 rounded-lg">
            <div class="text-center">
              <i class="fas fa-images text-gray-400 text-4xl mb-2"></i>
              <p class="text-gray-500">Aucune photo disponible</p>
            </div>
          </div>
          <% end %>
    </div>

    <!-- Informations du trip -->
    <div class="p-6">
      <div class="flex flex-col sm:flex-row justify-between gap-6">
        <!-- Infos principales -->
        <div class="flex-1">
          <div class="flex items-start gap-4">
            <div class="w-16 h-16 bg-green-50 rounded-xl flex items-center justify-center flex-shrink-0">
              <i class="fas fa-map-marked-alt text-green-500 text-2xl"></i>
            </div>
            <div class="flex-1">
              <div class="flex flex-wrap items-center gap-3 mb-2">
                <h1 class="text-2xl font-bold text-gray-900">
                  <%= @trip.title %>
                </h1>
                <div class="flex items-center bg-yellow-50 px-3 py-1 rounded-full">
                  <span class="text-yellow-600 font-semibold">
                    <%= @trip.theme %>
                  </span>
                </div>
              </div>
              <div class="space-y-2 text-gray-600 text-sm">
                <div class="flex items-center gap-2">
                  <i class="fas fa-city text-gray-400"></i>
                  <span><strong>Départ :</strong>
                    <%= @trip.departureCity %>
                  </span>
                </div>
                <div class="flex items-center gap-2">
                  <i class="fas fa-map-marker-alt text-gray-400"></i>
                  <span><strong>Destination :</strong>
                    <%= @trip.destinationCity %>
                  </span>
                </div>
                <div class="flex items-center gap-2">
                  <i class="fas fa-calendar-alt text-gray-400"></i>
                  <span><strong>Durée :</strong>
                    <%= pluralize(@trip.duration, "jour" ) %>
                  </span>
                </div>
                <div class="flex items-center gap-2">
                  <i class="fas fa-calendar-plus text-gray-400"></i>
                  <span><strong>Date départ :</strong>
                    <%= l(@trip.departureDate, format: :long) %>
                  </span>
                </div>
                <div class="flex items-center gap-2">
                  <i class="fas fa-calendar-check text-gray-400"></i>
                  <span><strong>Date retour :</strong>
                    <%= l(@trip.returnDate, format: :long) %>
                  </span>
                </div>
                <div class="flex items-center gap-2">
                  <i class="fas fa-euro-sign text-gray-400"></i>
                  <span><strong>Prix :</strong>
                    <%= number_to_currency(@trip.price, unit: "€" , format: "%n %u" ) %>
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Actions -->
        <div class="flex flex-wrap sm:flex-nowrap items-start gap-3">
          <div class="dropdown relative group">
            <button
              class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2">
              <i class="fas fa-cog"></i>
              Actions
              <i class="fas fa-chevron-down text-sm ml-1"></i>
            </button>
            <div
              class="hidden group-hover:block absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-100 z-10">
              <%= link_to edit_provider_trip_path(@trip),
                class: "flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-green-50 hover:text-green-600 rounded-t-lg" do %>
                <i class="fas fa-edit w-5"></i> Modifier
                <% end %>
                  <%= link_to provider_trips_path,
                    class: "flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-green-50 hover:text-green-600" do
                    %>
                    <i class="fas fa-arrow-left w-5"></i> Retour à la liste
                    <% end %>
                      <%= link_to provider_trip_path(@trip), data: { turbo_method: :delete,
                        turbo_confirm: "Êtes-vous sûr de vouloir supprimer ce voyage ?" },
                        class: "flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-b-lg" do %>
                        <i class="fas fa-trash w-5"></i> Supprimer
                        <% end %>
            </div>
          </div>
        </div>
      </div>

      <!-- Description -->
      <div class="mt-6">
        <h3 class="text-sm font-medium text-gray-900 mb-2">Programme</h3>
        <p class="text-gray-600 whitespace-pre-line">
          <%= @trip.program %>
        </p>
      </div>

      <!-- Infos admin -->
      <div class="mt-6 bg-gray-50 rounded-lg p-4">
        <h3 class="text-sm font-medium text-gray-900 mb-2">Informations administratives</h3>
        <div class="space-y-2 text-gray-600 text-sm">
          <div class="flex items-center gap-2">
            <i class="fas fa-hashtag text-gray-400"></i>
            <span>ID: <%= @trip.id %></span>
          </div>
          <div class="flex items-center gap-2">
            <i class="fas fa-calendar text-gray-400"></i>
            <span>Créé le: <%= l(@trip.created_at, format: :long) %></span>
          </div>
          <div class="flex items-center gap-2">
            <i class="fas fa-calendar-check text-gray-400"></i>
            <span>Dernière mise à jour: <%= l(@trip.updated_at, format: :long) %></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Avertissement si pas de programme -->
  <% if @trip.program.blank? %>
    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-xl">
      <div class="flex">
        <div class="flex-shrink-0">
          <i class="fas fa-exclamation-triangle text-yellow-400"></i>
        </div>
        <div class="ml-3">
          <p class="text-sm text-yellow-700">
            <strong class="font-medium">Attention :</strong> Ce voyage n'a pas encore de programme renseigné.
          </p>
        </div>
      </div>
    </div>
    <% end %>
</div>